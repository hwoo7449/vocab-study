# 개발 단계 요약 (App Router 사용을 반영한 수정) (큰 흐름)

1. 프로젝트 초기 설정
   - GitHub에 새 저장소 생성 (vocab-study)
   - Next.js 프로젝트 생성: `npx create-next-app@latest vocab-study --typescript`
   - App Router 선택

2. 기본 브랜치 구조 설정
   - main 브랜치 사용 중 (기본 브랜치)

3. 기본 프로젝트 구조 설정
   - src/components, src/styles, src/lib, src/utils 폴더 생성
   - src/app 디렉토리 확인 (layout.tsx, page.tsx 포함)
   - 전역 스타일 설정 (src/app/globals.css)

4. 사용자 인증 시스템 구현
   - NextAuth.js 설정 및 구현
   - 회원가입 및 로그인 페이지 구현
   - JWT 토큰 관리 유틸리티 함수 작성
   - API 라우트 생성 및 인증 미들웨어 구현

5. Vercel Postgres 설정
   - 로컬 PostgreSQL 데이터베이스 설정
   - 환경 변수 설정 (.env 파일 생성)
   - 데이터베이스 연결 설정 (prisma/schema.prisma)

6. 데이터베이스 스키마 구현
   - Prisma 스키마 정의 (User, Wordbook, Word, UserProgress 모델)
   - 초기 마이그레이션 실행

7. API 엔드포인트 구현
   - 단어장 CRUD 작업을 위한 API 구현
   - 단어 CRUD 작업을 위한 API 구현

8. 단어장 관리 기능 구현
   - 단어장 목록 페이지 구현
   - 단어장 추가/수정 페이지 구현

9. 단어 관리 기능 구현
   - 단어 목록 페이지 구현
   - 단어 추가/수정/삭제 기능 구현
   - 단어 검색 및 정렬 기능 구현

10. 사용자 학습 진행 상황 추적 기능 구현
    - UserProgress 모델을 활용한 학습 상태 관리
    - 학습 진행 상황 표시 UI 구현

11. 학습 알고리즘 개발
    - 간격 반복 학습 알고리즘 설계 및 구현
    - 사용자 학습 데이터 기반 단어 추천 기능 구현

12. 사용자 대시보드 구현
    - 학습 통계 및 진행 상황 시각화
    - 개인화된 학습 추천 제공

13. 성능 최적화 및 코드 리팩토링
    - 데이터베이스 쿼리 최적화
    - 컴포넌트 구조 개선 및 재사용성 증대

14. 테스트 코드 작성 및 품질 보증
    - 단위 테스트 및 통합 테스트 작성
    - 자동화된 테스트 파이프라인 구축

15. 배포 준비 및 실행
    - Vercel 배포 설정
    - 환경 변수 및 보안 설정 검토
    - 최종 테스트 및 배포

16. 문서화
    - README.md 업데이트
    - API 문서 작성
    - 사용자 가이드 작성

17. 지속적 통합 및 배포 (CI/CD) 설정
    - GitHub Actions 워크플로우 구성
    - 자동 테스트 및 배포 파이프라인 구축

# 개발 세부 지침
## 1. 프로젝트 구조
- Next.js의 App Router 구조를 따릅니다.
- 'use client' 지시문을 사용하여 클라이언트 컴포넌트를 명시합니다.
- 공통 컴포넌트는 `src/components` 디렉토리에 위치시킵니다.
- API 라우트는 `src/app/api` 디렉토리 내에 구성합니다.

## 2. 코딩 스타일
- TypeScript를 사용하여 타입 안정성을 확보합니다.
- 함수형 컴포넌트와 React Hooks를 사용합니다.
- 일관된 명명 규칙을 사용합니다 (예: camelCase for variables, PascalCase for components).

## 3. 상태 관리
- 로컬 상태에는 `useState` 훅을 사용합니다.
- 복잡한 상태나 전역 상태는 Context API를 고려합니다.
- 필요한 경우 Zustand나 Jotai 같은 경량 상태 관리 라이브러리 도입을 검토합니다.

## 4. API 통신
- Next.js의 API 라우트를 활용합니다.
- 클라이언트에서는 fetch API를 사용하여 서버와 통신합니다.
- API 응답에 대한 타입을 명시적으로 정의합니다.

## 5. 데이터베이스 작업
- Prisma ORM을 사용하여 데이터베이스 작업을 수행합니다.
- 데이터베이스 스키마 변경 시 마이그레이션을 생성하고 적용합니다.

## 6. 인증 및 보안
- NextAuth.js를 사용하여 사용자 인증을 구현합니다.
- 민감한 정보는 환경 변수에 저장하고 .env 파일을 통해 관리합니다.
- CSRF 토큰을 사용하여 크로스 사이트 요청 위조를 방지합니다.

## 7. UI/UX
- Tailwind CSS를 사용하여 스타일링합니다.
- 반응형 디자인을 구현하여 다양한 디바이스에서의 사용성을 보장합니다.
- 접근성 가이드라인을 준수합니다 (WCAG 2.1).

## 8. 성능 최적화
- Next.js의 이미지 최적화 기능을 활용합니다.
- 코드 스플리팅과 지연 로딩을 적용합니다.
- useCallback과 useMemo를 적절히 사용하여 불필요한 리렌더링을 방지합니다.

## 9. 에러 처리 및 로깅
- 클라이언트 측 에러는 try-catch 구문으로 처리합니다.
- 서버 측 에러는 Next.js의 에러 핸들링 메커니즘을 활용합니다.
- 중요한 에러는 로깅 시스템을 통해 기록합니다.

## 10. 테스트
- Jest와 React Testing Library를 사용하여 단위 테스트를 작성합니다.
- Cypress를 사용하여 E2E 테스트를 구현합니다.
- 주요 기능에 대해 높은 테스트 커버리지를 유지합니다.

## 11. 배포 및 CI/CD
- Vercel을 사용하여 배포합니다.
- GitHub Actions를 통해 CI/CD 파이프라인을 구성합니다.
- 배포 전 자동화된 테스트 실행을 보장합니다.

## 12. 문서화
- README.md 파일을 통해 프로젝트 개요와 설정 방법을 문서화합니다.
- 주요 컴포넌트와 함수에 JSDoc 스타일의 주석을 작성합니다.
- API 엔드포인트에 대한 문서를 유지합니다.

## 13. 버전 관리
- GitHub Flow 브랜치 전략을 따릅니다.
- 의미 있는 커밋 메시지를 작성합니다.
- Pull Request를 통해 코드 리뷰를 진행합니다.

이 지침은 프로젝트의 진행 상황에 따라 지속적으로 업데이트됩니다.